language: swift
osx_image: xcode10
script: make ci
branches:
  only:
    - master
    - /^\d+\.\d+\.\d+$/
before_install:
  - brew update
  - brew outdated carthage || brew upgrade carthage
before_script:
  - make lint
  - carthage bootstrap
before_deploy:
  - carthage build --no-skip-current
  - carthage archive OutOfTouch
notifications:
  irc: "chat.freenode.net#repla-development"
deploy:
  provider: releases
  api_key:
    secure: PbchDRS0FDhIKGaHlZsM7Tgkr6zk1/dnkqdDCwr+O55+iib7AfoePtUgCkmJaj9fcK7skdYmQ2z6/gjomj6jE915opJMIAtHm7fMxUGn6W7OtTn4J8Fp1stdWYxkC/dp+p07MYjS24Atm6VA83zPEFn04XrhZDC48MhdOJkVzCmqnpplYqDgYIU/+cWinxKC5Vr2EpSdyGThvDryGW+9dpUichSe39YSMgRn2db5sEUOyvMS/SfmkvMD4ik6+TvVWMwprIgJN6kZiHdo00Z+7UjqnK4qdUelebHcxAuo94pL6a+yg5Y1HREXJfM5gAMu8VplmVstZ3iH+llxn+E4vVO7AONvUGqiZpGV8PBnUq7NuIeohDs+Jd04u6oChs88dZ0vC8i9M8awzD5ASodvQVmE7sQ/D5U8XTl0PkVaHj+XiQlOnAPxQSu+EYSGEzALk4MnM5o4S3j24UitgtAtLrotqErwbgP2oRvPJrRS+QNqcH+1h7KZvc8Kpph3yUCALUtMBDlJRIzuScqJq8bsIzAgqtTAWTQ65Y7DnT+dlQ9UM+c7tJIhpEI1MXSy9VJZXtMHE97GJgee6YLexbiG1m9IiPpcyjuedO5LXpd80QObORc0fsnJfSI35xEyHVTRbgd/6IoajgbcD2sFsmGOiS1d8Cc3Ewo8IpU9saShrfQ=
  file: OutOfTouch.framework.zip
  skip_cleanup: true
  on:
    repo: robenkleene/OutOfTouch
    tags: true
env:
  global:
    secure: DjvoF/+SgHimaee3wEyNy2l62fj/sjBmTNRAh0DY2PavwAEbgFie4dHafbefSFGLzfZrL7C8a0tMv9EhF7LXD9ZArqzpvB2NttAZXEfw7kmaiQKeIaF+Jov+znDxHM/rPv/7dzh8tM0sYWLVjpey0IsDAtv1EnDrVEI5uK5zwL5B9gaiMTl41b7jtEzn5PgEN8YZH1mFN6kb0Y+Ovfc1KFoqaDVXwjRNcVtKSDvi0JRAzT/vwvN/EhlbFK2wn9I+upxWt7xk90YA7KZzcbV+5uwVFtBEONsp82+sLg3IARED/hoi5dEvp6SBGVWC364nYYIG3plHbRDyEVokZN0eVWfkZdKGGv466xrs7K5fSQU2wY06acBHIGOSaqjHH3fmtq+JM6o2Z1otxco4vxSGwvbeDanPehssvB+SgdQIoYX7PDH2241TGPCxHxdtoG4Y+1sCy2jf729U6YenRY//th34cq3gs2dQjNfHQqebu7P37nHoVI4G5MoIkgMZZyFp8NOVR4OFm8oowmpnBU+sJ+tJWnoAbmellnlzXcV35APwo+nRhyn3BbgsKO0vbu/vrw0qp6zoUHiRCeQn7FMmcSbntvWwLwB7Dk/Y3yDQw5HjqbwiVswoPsrdjUV4xkAhcOrteWhydsrR9KEWr81EkEJcFmBUOA5kL1a6NgXQe30=
